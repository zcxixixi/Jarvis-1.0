<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS Orb UI</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
            background: radial-gradient(circle at center, #0a0a12 0%, #000000 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #fff;
            font-family: 'Arial', sans-serif;
        }

        /* Subtle Grid Background for Tech Feel */
        .grid-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 240, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 240, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        /* Vignette to darken edges */
        .vignette {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, transparent 40%, #000 150%);
            pointer-events: none;
            z-index: 1;
        }

        canvas {
            z-index: 2;
        }

        /* Simulator Controls (Hidden in production) */
        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 10;
            opacity: 0.3;
            transition: opacity 0.3s;
        }

        .controls:hover {
            opacity: 1;
        }

        button {
            background: rgba(0, 240, 255, 0.1);
            border: 1px solid rgba(0, 240, 255, 0.3);
            color: rgba(0, 240, 255, 0.8);
            padding: 5px 10px;
            cursor: pointer;
            font-size: 12px;
        }
    </style>
</head>

<body>

    <div class="grid-bg"></div>
    <div class="vignette"></div>

    <canvas id="orbCanvas"></canvas>

    <div class="controls">
        <button id="toggleSim">Toggle Voice Sim</button>
    </div>

    <script>
        const canvas = document.getElementById('orbCanvas');
        const ctx = canvas.getContext('2d');

        // Configuration - Premium Metallic Grey
        const CORE_COLOR = '#F0F0F0';
        const GLOW_COLOR = 'rgba(200, 210, 220, 0.4)'; // Cool Grey Glow
        const OUTER_GLOW_COLOR = 'rgba(150, 160, 170, 0.1)';

        let width, height, centerX, centerY;

        // Simulating Audio Data
        let audioLevel = 0;
        let targetAudioLevel = 0;
        let isSimulating = true;
        let simTime = 0;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        // Animation Loop
        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, width, height);

            // 1. Update Simulation
            if (isSimulating) {
                simTime += 0.05;
                let noise = Math.sin(simTime * 5) * Math.cos(simTime * 3);
                if (Math.random() > 0.95) targetAudioLevel = 0.3 + Math.random() * 0.4; // More subtle
                else targetAudioLevel *= 0.9;

                audioLevel += (targetAudioLevel - audioLevel) * 0.15;
            } else {
                audioLevel += (0 - audioLevel) * 0.1;
            }

            const idleBreath = Math.sin(Date.now() / 1500) * 0.03 + 1; // Slower breathing
            const baseRadius = Math.min(width, height) * 0.10; // Slightly smaller
            const currentRadius = baseRadius * idleBreath + (baseRadius * audioLevel * 0.6);

            drawOrb(centerX, centerY, currentRadius);
            drawRings(centerX, centerY, currentRadius, audioLevel);
        }

        function drawOrb(x, y, r) {
            // 1. Outer Atmosphere (Very subtle, cool grey)
            const gradientOuter = ctx.createRadialGradient(x, y, r * 1.0, x, y, r * 3.5);
            gradientOuter.addColorStop(0, 'rgba(220, 230, 240, 0.08)');
            gradientOuter.addColorStop(0.5, 'rgba(100, 110, 120, 0.02)');
            gradientOuter.addColorStop(1, 'rgba(0, 0, 0, 0)');

            ctx.fillStyle = gradientOuter;
            ctx.beginPath();
            ctx.arc(x, y, r * 4, 0, Math.PI * 2);
            ctx.fill();

            // 2. Inner Glow (Silver)
            const gradientInner = ctx.createRadialGradient(x, y, r * 0.4, x, y, r * 1.5);
            gradientInner.addColorStop(0, '#FFFFFF');
            gradientInner.addColorStop(0.3, 'rgba(220, 225, 230, 0.6)'); // Silver
            gradientInner.addColorStop(0.7, 'rgba(180, 190, 200, 0.2)'); // Darker Grey
            gradientInner.addColorStop(1, 'rgba(100, 100, 100, 0)');

            ctx.fillStyle = gradientInner;
            ctx.beginPath();
            ctx.arc(x, y, r * 1.5, 0, Math.PI * 2);
            ctx.fill();

            // 3. The Core (Clean White with soft edge)
            ctx.fillStyle = '#fcfcfc';
            ctx.shadowBlur = 15;
            ctx.shadowColor = 'rgba(255, 255, 255, 0.5)';
            ctx.beginPath();
            ctx.arc(x, y, r * 0.85, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        function drawRings(x, y, r, level) {
            if (level > 0.05) {
                // Thin, elegant silver rings
                ctx.strokeStyle = `rgba(255, 255, 255, ${0.15 * (1 - level)})`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(x, y, r * (1 + level * 0.4), 0, Math.PI * 2);
                ctx.stroke();

                ctx.strokeStyle = `rgba(200, 210, 220, ${0.1 * (1 - level)})`;
                ctx.beginPath();
                ctx.arc(x, y, r * (1 + level * 0.8), 0, Math.PI * 2);
                ctx.stroke();
            }
        }

        animate();

        // Control Logic
        document.getElementById('toggleSim').addEventListener('click', () => {
            isSimulating = !isSimulating;
            targetAudioLevel = 0;
        });
    </script>
</body>

</html>